# ⚡ Быстрый старт: Редактор шаблонов

## 🎯 Что это?

Новая функциональность для создания и редактирования пользовательских шаблонов таблиц прямо в приложении без написания кода.

## 🚀 Как использовать?

### Откройте галерею шаблонов

**Путь в меню:** `Инструменты → Галерея шаблонов`

```
┌─────────────────────────────┐
│ Галерея шаблонов           │
├─────────────────────────────┤
│ ✨ Создать новый    << НОВОЕ!
│ ✏️ Редактировать    << НОВОЕ!
│ 📥 Импортировать
│ 📤 Экспортировать
│ ✓ Создать таблицу
└─────────────────────────────┘
```

## ✨ Создание нового шаблона

**Шаг 1:** Нажмите "✨ Создать новый"

**Шаг 2:** Заполните форму
```
Название:  [Контакты клиентов     ]
Описание:  [Реестр основных клиентов]

📋 Поля:
├─ Имя          (тип: text)
├─ Email         (тип: email)  
├─ Телефон       (тип: phone)
└─ ➕ Добавить еще
```

**Шаг 3:** Нажмите "✓ Создать шаблон"

✅ Готово! Шаблон создан и сохранен.

---

## ✏️ Редактирование шаблона

**Шаг 1:** Выберите шаблон в списке

**Шаг 2:** Нажмите "✏️ Редактировать"

**Шаг 3:** Измените параметры
- Описание
- Имена полей
- Типы данных
- Форматы
- Добавьте/удалите поля

**Шаг 4:** Нажмите "💾 Сохранить изменения"

✅ Готово! Шаблон обновлен.

---

## 🎨 Доступные типы данных

| Тип | Пример |
|-----|--------|
| **text** | Иван Иванов |
| **number** | 1234.56 |
| **date** | 15.01.2024 |
| **time** | 14:30:00 |
| **email** | user@example.com |
| **phone** | +7 999 123-45-67 |
| **url** | https://example.com |
| **currency** | 1 234,56 ₽ |
| **percentage** | 25% |

---

## 💡 Примеры

### Пример 1: Контакты
```
Название: Контакты компании
Поля:
- ID (number) 🔑 ключевое
- Имя (text)
- Компания (text)
- Email (email)
- Телефон (phone)
```

### Пример 2: Финансовый отчет
```
Название: Квартальный отчет
Поля:
- Дата (date)
- Доход (currency)
- Расходы (currency)
- Прибыль (currency)
- Рентабельность (percentage)
```

### Пример 3: Инвентарь
```
Название: Инвентарь склада
Поля:
- Артикул (text) 🔑 ключевое
- Наименование (text)
- Количество (number)
- Цена (currency)
- Дата (date)
```

---

## 🔑 Что такое "ключевое поле"?

Отмечайте поле как ключевое, если оно содержит уникальные значения:
- ✅ ID, Артикул, Email (обычно уникальны)
- ❌ Имя, Город, Статус (часто повторяются)

---

## 📝 Форматирование

### Для дат
- `dd.mm.yyyy` → 15.01.2024
- `yyyy-mm-dd` → 2024-01-15

### Для чисел
- `#,##0.00` → 1 234,56

### Для валюты
Тип автоматически форматирует: 1234 → 1 234,56 ₽

---

## ✅ Проверка перед сохранением

Система проверит:
- ✓ Название не пусто
- ✓ Название не дублируется
- ✓ Все поля имеют имена
- ✓ Минимум одно поле
- ✓ Типы данных корректны

Если найдены ошибки - система покажет понятное сообщение.

---

## 📁 Где сохраняются файлы?

Ваши шаблоны хранятся здесь:
```
pysheets/user_templates/
├── templates/      ← JSON файлы шаблонов
├── metadata/       ← Метаинформация
└── thumbnails/     ← Для будущего превью
```

---

## 📤📥 Обмен шаблонами

### Экспортировать
1. Выберите шаблон
2. Нажмите "📤 Экспортировать"
3. Сохраните JSON файл
4. Отправьте коллеге

### Импортировать
1. Получите JSON файл
2. В галерее нажмите "📥 Импортировать"
3. Выберите файл
4. Шаблон добавлен!

---

## ⚙️ Дополнительные параметры

При создании/редактировании шаблон получает:
- Дату создания (автоматически)
- Дату последнего изменения (автоматически)
- Описание (вводите вручную)
- Поля с описанием (по желанию)

---

## 🐛 Что-то не работает?

### Ошибка: "Не удалось создать шаблон"
- Проверьте наличие прав на запись в папку user_templates
- Убедитесь что SmartTable установлена правильно

### Ошибка: "Шаблон не сохраняется"
- Проверьте наличие названия шаблона
- Заполните имена всех полей
- Убедитесь, что осталось минимум одно поле

### Шаблон не появился в списке
- Нажмите F5 для обновления
- Закройте и откройте галерею заново

---

## 📖 Подробнее

Для полной информации читайте:
- **Пользователю:** [TEMPLATES_CREATOR_GUIDE.md](TEMPLATES_CREATOR_GUIDE.md)
- **Разработчику:** [TEMPLATE_EDITOR_DEVELOPER_GUIDE.md](TEMPLATE_EDITOR_DEVELOPER_GUIDE.md)
- **Отчет:** [TEMPLATES_EDITOR_COMPLETION.md](TEMPLATES_EDITOR_COMPLETION.md)

---

## 🎓 Совет

👉 **Начните с простого!** Создайте шаблон с 3-5 полями, попробуйте создать таблицу. Потом экспортируйте и покажите коллеге!

---

**Система готова к использованию! 🎉**
